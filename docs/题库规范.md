# 多领域学习刷题工具 - 题库规范文档

## 概述

本文档定义了多领域学习刷题工具的题库数据结构和导入格式规范。题库采用 JavaScript 模块格式，支持多种题型和丰富的元数据，目前支持增材制造和机器人编程等技术领域。

## 文件结构

### 基本文件格式

```javascript
// questionBank.js - 题库文件示例
export const questionBank = [
  // 题目数组
];

// 可选：导出统计函数
export const getQuestionStats = () => {
  // 统计逻辑
};

// 可选：导出题目总数
export const totalQuestions = questionBank.length;
```

### 文件命名规范

- **增材制造题库**: `additive_manufacturing_[级别].js`
  - 示例: `additive_manufacturing_basic.js`、`additive_manufacturing_intermediate.js`
- **机器人编程题库**: `robot-coding-[品牌]-[级别].js`  
  - 示例: `robot-coding-ABB-basic.js`、`robot-coding-FNK-mid.js`
- **特殊变体题库**: `robot-coding-[品牌]-[变体]-[级别].js`
  - 示例: `robot-coding-FNK-YL-basic.js`、`robot-coding-KKR-BN-mid.js`

## 题目数据结构

### 必填字段

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `id` | number | 题目唯一标识符 |
| `type` | string | 题目类型（见支持的题型） |
| `question` | string | 题目内容 |
| `answer` | string/boolean/array | 正确答案 |
| `category` | string | 题目分类 |

### 可选字段

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `options` | object | 选择题选项（单选题和多选题必填） |
| `hasImage` | boolean | 是否包含图片 |
| `imagePath` | string | 图片路径 |
| `imageDescription` | string | 图片描述（用于无障碍访问） |
| `imagePlaceholder` | string | 图片占位符文本 |
| `difficulty` | string | 难度等级（easy/medium/hard） |
| `explanation` | string | 答案解析 |
| `tags` | array | 标签数组 |

## 支持的题型

### 1. 单选题 (single_choice)

**数据结构：**
```javascript
{
  id: 1,
  type: "single_choice",
  question: "采集产品数据，基本的原则：沿着特征方向走，顺着( )方向采集。",
  options: {
    A: "垂直",
    B: "法向", 
    C: "径向",
    D: "Z 轴坐标"
  },
  answer: "B",
  category: "数据采集"
}
```

**字段说明：**
- `options`: 必填，包含 A、B、C、D 四个选项
- `answer`: 必填，值为选项键名（"A"、"B"、"C"、"D"）

### 2. 多选题 (multiple_choice)

**数据结构：**
```javascript
{
  id: 36,
  type: "multiple_choice",
  question: "FDM 3D打印技术的优点包括（ ）。",
  options: {
    A: "设备成本相对较低",
    B: "操作简单易学",
    C: "材料选择丰富",
    D: "打印精度最高"
  },
  answer: ["A", "B", "C"],
  category: "FDM技术"
}
```

**字段说明：**
- `options`: 必填，包含 A、B、C、D 四个选项
- `answer`: 必填，值为选项键名数组（如 ["A", "B", "C"]）
- 答案数组中至少包含2个选项，最多4个选项

### 3. 判断题 (true_false)

**数据结构：**
```javascript
{
  id: 13,
  type: "true_false",
  question: "SLA打印完成后需要进行后固化处理。",
  answer: "true",
  category: "SLA技术"
}
```

**字段说明：**
- `answer`: 必填，值为字符串 "true" 或 "false"
- 不需要 `options` 字段

### 4. 图片题

图片题可以是单选题、多选题或判断题的任意一种，只需添加图片相关字段：

**单选图片题示例：**
```javascript
{
  id: 26,
  type: "single_choice",
  question: "下图所示，下列关于线、面的投影，叙述正确的是（ ）。",
  options: {
    A: "直线 AB 为正平线，平面 P 为正垂面",
    B: "直线 CD 为侧垂线，平面 Q 为水平面",
    C: "直线 AB 为一般位置直线，平面 P 为一般位置平面",
    D: "直线 CD为一般位置直线，平面 Q为正平面"
  },
  answer: "B",
  category: "工程制图",
  hasImage: true,
  imagePath: "/images/268.png",
  imageDescription: "工程制图中线面投影关系示意图",
  imagePlaceholder: "📐 此题包含几何投影图，需要参考图形理解线面关系"
}
```

**多选图片题示例：**
```javascript
{
  id: 37,
  type: "multiple_choice",
  question: "根据下图所示的3D打印失败案例，可能的原因包括（ ）。",
  options: {
    A: "底板附着力不足",
    B: "支撑结构不当",
    C: "打印温度过低",
    D: "层高设置过大"
  },
  answer: ["A", "B"],
  category: "质量控制",
  hasImage: true,
  imagePath: "/images/print_failure.png",
  imageDescription: "3D打印失败案例图片",
  imagePlaceholder: "🖨️ 此题包含打印失败案例图，需要参考图形分析原因"
}
```

**字段说明：**
- `hasImage`: 必填，设为 `true`
- `imagePath`: 必填，图片相对路径（相对于 public 目录）
- `imageDescription`: 推荐，用于屏幕阅读器
- `imagePlaceholder`: 推荐，图片加载失败时的占位文本

## 题目分类体系

### 增材制造领域分类

| 分类名称 | 英文标识 | 说明 |
|----------|----------|------|
| 数据采集 | data_collection | 三维数据采集相关 |
| 三维扫描 | 3d_scanning | 扫描设备操作 |
| 设备参数 | equipment_parameters | 设备参数设置 |
| 设备维护 | equipment_maintenance | 设备保养维护 |
| FDM技术 | fdm_technology | 熔融沉积成型 |
| SLA技术 | sla_technology | 光固化立体成型 |
| SLS技术 | sls_technology | 选择性激光烧结 |
| 切片软件 | slicing_software | 切片软件操作 |
| 材料特性 | material_properties | 打印材料特性 |
| 后处理 | post_processing | 打印后处理 |
| 工程制图 | engineering_drawing | 工程制图基础 |
| 机械原理 | mechanical_principles | 机械原理知识 |
| 设计原理 | design_principles | 3D设计原理 |
| 质量控制 | quality_control | 打印质量控制 |
| 安全操作 | safety_operation | 安全操作规范 |
| 行业应用 | industry_application | 行业应用案例 |

### 机器人编程领域分类

| 分类名称 | 英文标识 | 说明 |
|----------|----------|------|
| 基础操作 | basic_operation | 机器人基础操作和概念 |
| 编程基础 | programming_basics | 编程语言和基本指令 |
| 坐标系统 | coordinate_system | 坐标系和定位技术 |
| 运动控制 | motion_control | 轨迹规划和运动控制 |
| I/O控制 | io_control | 输入输出信号控制 |
| 安全系统 | safety_system | 安全功能和保护机制 |
| 工具配置 | tool_configuration | 工具设置和标定 |
| 程序结构 | program_structure | 程序组织和结构 |
| 故障诊断 | fault_diagnosis | 故障排除和维护 |
| 高级功能 | advanced_features | 高级编程功能和应用 |

### 添加新分类

在题目中使用新的 `category` 值即可自动创建新分类，系统会自动识别和统计。

## 图片资源规范

### 图片存储

- **存储位置**: `public/images/` 目录
- **命名规范**: 使用数字编号，如 `268.png`、`269.png`
- **支持格式**: PNG、JPG、JPEG、GIF、SVG
- **推荐尺寸**: 宽度不超过 800px，保持清晰度

### 图片引用

```javascript
// 正确的图片路径格式
imagePath: "/images/268.png"  // 以 / 开头，相对于 public 目录
```

### 无障碍支持

```javascript
// 推荐包含的无障碍字段
imageDescription: "工程制图中线面投影关系示意图",
imagePlaceholder: "📐 此题包含几何投影图，需要参考图形理解线面关系"
```

## 导入和使用

### 题库导入

```javascript
// 在组件中导入题库
import { questionBank, getQuestionStats, totalQuestions } from './questionBanks/additiveManufacturing.js';
```

### 统计函数（可选）

```javascript
export const getQuestionStats = () => {
  const stats = {};
  questionBank.forEach(question => {
    if (!stats[question.category]) {
      stats[question.category] = {
        total: 0,
        singleChoice: 0,
        multipleChoice: 0,
        trueFalse: 0,
        hasImage: 0
      };
    }
    stats[question.category].total++;
    if (question.type === 'single_choice') {
      stats[question.category].singleChoice++;
    } else if (question.type === 'multiple_choice') {
      stats[question.category].multipleChoice++;
    } else if (question.type === 'true_false') {
      stats[question.category].trueFalse++;
    }
    if (question.hasImage) {
      stats[question.category].hasImage++;
    }
  });
  return stats;
};
```

## 数据验证规则

### 必填字段验证

- `id`: 必须为正整数，且在题库中唯一
- `type`: 必须为支持的题型之一（"single_choice"、"multiple_choice"、"true_false"）
- `question`: 不能为空字符串
- `answer`: 根据题型验证格式
- `category`: 不能为空字符串

### 单选题特殊验证

- `options`: 必须包含 A、B、C、D 四个键
- `answer`: 必须为 "A"、"B"、"C"、"D" 之一
- 所有选项值不能为空

### 多选题特殊验证

- `options`: 必须包含 A、B、C、D 四个键
- `answer`: 必须为数组，包含2-4个选项键名
- 答案数组中的每个值必须为 "A"、"B"、"C"、"D" 之一
- 答案数组中不能有重复值
- 所有选项值不能为空

### 判断题特殊验证

- `answer`: 必须为 "true" 或 "false"
- 不应包含 `options` 字段

### 图片题特殊验证

- 当 `hasImage` 为 `true` 时，`imagePath` 为必填
- `imagePath` 必须以 "/" 开头
- 推荐包含 `imageDescription` 和 `imagePlaceholder`

## 最佳实践

### 1. 题目编写

- **问题表述**: 清晰、准确、无歧义
- **选项设计**: 长度相近，避免明显错误选项
- **答案设置**: 确保答案的唯一性和正确性
- **多选题设计**: 确保有多个正确答案，避免只有一个正确选项

### 2. 分类管理

- **分类命名**: 使用中文，简洁明了
- **分类粒度**: 不宜过细，保持合理的题目数量分布
- **分类一致性**: 同类题目使用相同的分类名称

### 3. 图片使用

- **图片质量**: 清晰、相关、必要
- **文件大小**: 控制在合理范围内，避免影响加载速度
- **版权合规**: 确保图片使用符合版权要求

### 4. 扩展性考虑

- **ID分配**: 预留ID空间，避免冲突
- **向后兼容**: 新增字段时保持向后兼容
- **模块化**: 大型题库可拆分为多个文件

## 示例题库模板

```javascript
// 新题库模板
export const questionBank = [
  // 单选题示例
  {
    id: 1,
    type: "single_choice",
    question: "题目内容",
    options: {
      A: "选项A",
      B: "选项B", 
      C: "选项C",
      D: "选项D"
    },
    answer: "A",
    category: "分类名称"
  },
  
  // 多选题示例
  {
    id: 2,
    type: "multiple_choice",
    question: "多选题内容（可选择多个答案）",
    options: {
      A: "选项A",
      B: "选项B",
      C: "选项C",
      D: "选项D"
    },
    answer: ["A", "B", "C"],
    category: "分类名称"
  },
  
  // 判断题示例
  {
    id: 3,
    type: "true_false",
    question: "判断题内容",
    answer: "true",
    category: "分类名称"
  },
  
  // 图片题示例（单选）
  {
    id: 4,
    type: "single_choice",
    question: "图片相关题目",
    options: {
      A: "选项A",
      B: "选项B",
      C: "选项C", 
      D: "选项D"
    },
    answer: "A",
    category: "分类名称",
    hasImage: true,
    imagePath: "/images/example.png",
    imageDescription: "图片描述",
    imagePlaceholder: "📷 图片占位符"
  },
  
  // 图片题示例（多选）
  {
    id: 5,
    type: "multiple_choice",
    question: "图片相关多选题",
    options: {
      A: "选项A",
      B: "选项B",
      C: "选项C",
      D: "选项D"
    },
    answer: ["A", "C"],
    category: "分类名称",
    hasImage: true,
    imagePath: "/images/example2.png",
    imageDescription: "图片描述",
    imagePlaceholder: "📷 图片占位符"
  }
];

export const totalQuestions = questionBank.length;
```

## 版本历史

- **v1.0**: 初始版本，支持单选题和判断题
- **v1.1**: 添加图片题支持
- **v1.2**: 完善分类体系和数据验证
- **v1.3**: 添加多选题支持

---

*本规范文档会随着系统功能的扩展而持续更新。*